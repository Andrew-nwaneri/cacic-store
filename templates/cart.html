{% block content %}
{% include "header.html" %}
    <style>
        /* Custom styles for the delete button SVG icon size, as Bootstrap doesn't have direct utilities for this */
        .delete-icon {
            width: 20px;
            height: 20px;
        }
        /* Custom styling for the image container if Bootstrap's sizing is not precise enough */
        .product-img-container {
            width: 100px; /* Equivalent to original width */
            height: 160px; /* Equivalent to original height */
            flex-shrink: 0; /* Prevents image from shrinking */
            overflow: hidden; /* Ensures rounded corners apply to image */
            border-radius: 0.375rem; /* Bootstrap's default rounded corners */
        }
        .product-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
<body>
<div class="container p-5">
    <div class="row g-5">
        <div class="col-md-8 offset-md-2 col-lg-6 offset-lg-3"> <!-- Centering content -->
            <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-secondary">Your cart</span>
                <span class="badge bg-danger rounded-pill">{{ cart_count }}</span>
            </h4>

            <ul class="list-group mb-3">
                {% for items in cart %}
                <li class="list-group-item d-flex justify-content-between align-items-center bg-white rounded shadow-sm p-3 mb-3 border">
                    <div class="d-flex align-items-center flex-grow-1">
                        <a href="#" target="_blank" class="text-decoration-none text-dark d-flex align-items-center">
                            <div class="product-img-container me-3">
                                <img src="{{ items.product.img_url }}"
                                     alt="Product Thumbnail"
                                     onerror="this.onerror=null;this.src='https://placehold.co/100x160/E0E0E0/333333?text=No+Image';"
                                >
                            </div>
                            <div>
                                <h5 class="my-0 fw-bold">{{ items.product.name }}</h5>
                                <span class="text-muted fw-semibold pb-5">₦{{ items.product.price }}/{{ items.product.unit }}</span>
                                <h6 class="fw-semibold mb-0"> x{{ items.amount }}</h6>
                            </div>
                        </a>
                    </div>
                    <a class="btn btn-danger rounded-circle p-2 d-flex align-items-center justify-content-center"
                            style="width: 32px; height: 32px;"
                            href="{{ url_for('delete_cart', post_id=items.id) }}"> <!-- Assuming 'items.id' is available -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-trash" viewBox="0 0 16 16">
                          <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                          <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                        </svg>
                    </a>
                </li>
                {% endfor %}
            </ul>
        <div style="text-align: right"><span class="fw-bold fs-6">TOTAL = ₦{{ total }}</span></div>
        </div>
    </div>
</div>



{% endblock %}
{{ bootstrap.load_js() }}
{% include "footer.html" %}




